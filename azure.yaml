# # yaml-language-server: $schema=https://raw.githubusercontent.com/Azure/azure-dev/main/schemas/v1.0/azure.yaml.json
# metadata:
#     template: azd-init@1.11.1
name: content-processing

requiredVersions:
  azd: '>= 1.18.0'

metadata:
  template: content-processing@1.0
  name: content-processinge@1.0

hooks:
  postdeploy:
    posix:
      shell: sh
      run: |  
        Write-Host "üß≠ Web App Details:"
        Write-Host "‚úÖ Name: $CONTAINER_WEB_APP_NAME"
        Write-Host "üåê Endpoint: https://$CONTAINER_WEB_APP_FQDN"
        Write-Host "üîó Portal URL: https://portal.azure.com/#resource/subscriptions/$AZURE_SUBSCRIPTION_ID/resourceGroups/$AZURE_RESOURCE_GROUP/providers/Microsoft.App/containerApps/$CONTAINER_WEB_APP_NAME" -ForegroundColor Cyan

        Write-Host "üß≠ API App Details:"
        Write-Host "‚úÖ Name: $CONTAINER_API_APP_NAME"
        Write-Host "üåê Endpoint: https://$CONTAINER_API_APP_FQDN"
        Write-Host "üîó Portal URL: https://portal.azure.com/#resource/subscriptions/$AZURE_SUBSCRIPTION_ID/resourceGroups/$AZURE_RESOURCE_GROUP/providers/Microsoft.App/containerApps/$CONTAINER_API_APP_NAME" -ForegroundColor Cyan
      interactive: true
    windows:
      shell: pwsh
      run: |  
        Write-Host "üß≠ Web App Details:"
        Write-Host "‚úÖ Name: $env:CONTAINER_WEB_APP_NAME"
        Write-Host "üåê Endpoint: https://$env:CONTAINER_WEB_APP_FQDN"
        Write-Host "üîó Portal URL: https://portal.azure.com/#resource/subscriptions/$env:AZURE_SUBSCRIPTION_ID/resourceGroups/$env:AZURE_RESOURCE_GROUP/providers/Microsoft.App/containerApps/$env:CONTAINER_WEB_APP_NAME" -ForegroundColor Cyan
        
        Write-Host "üß≠ API App Details:"
        Write-Host "‚úÖ Name: $env:CONTAINER_API_APP_NAME"
        Write-Host "üåê Endpoint: https://$env:CONTAINER_API_APP_FQDN"
        Write-Host "üîó Portal URL: https://portal.azure.com/#resource/subscriptions/$env:AZURE_SUBSCRIPTION_ID/resourceGroups/$env:AZURE_RESOURCE_GROUP/providers/Microsoft.App/containerApps/$env:CONTAINER_API_APP_NAME" -ForegroundColor Cyan
      interactive: true
